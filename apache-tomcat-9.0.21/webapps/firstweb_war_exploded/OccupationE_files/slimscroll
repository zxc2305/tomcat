function Scroll(n,t,i,r,u){var f={thisUl:n.find("ul"),thisLi:n.find("ul").find("li"),btnLeft:t,btnRight:i,init:function(){f.thisUl.width(f.thisLi.length*r+f.thisLi.length*50);f.slideAuto();f.btnLeft.click(f.slideLeft).hover(f.slideStop,f.slideAuto);f.btnRight.click(f.slideRight).hover(f.slideStop,f.slideAuto);f.thisUl.hover(f.slideStop,f.slideAuto)},slideLeft:function(){return f.btnLeft.unbind("click",f.slideLeft),f.thisLi.parent().children().eq(f.thisLi.length-1).prependTo(f.thisUl),f.thisUl.css("marginLeft",0-r),f.thisUl.animate({marginLeft:0},500,"linear",function(){f.btnLeft.bind("click",f.slideLeft)}),!1},slideRight:function(){return f.btnRight.unbind("click",f.slideRight),f.thisUl.animate({marginLeft:0-r},500,"linear",function(){f.thisUl.css("marginLeft","0");f.thisLi.parent().children().eq(0).appendTo(f.thisUl);f.btnRight.bind("click",f.slideRight)}),!1},slideAuto:function(){u==1&&(f.intervalId=window.setInterval(f.slideRight,3e3))},slideStop:function(){window.clearInterval(f.intervalId)}};$(document).ready(function(){f.init()})}function banner(){function u(n){$(".banner .btns span").eq(n).addClass("cur").siblings("span").removeClass("cur");$(".banner li").eq(n).stop(!0,!0).fadeIn(1e3).siblings().stop(!0,!0).fadeOut(1e3)}var r=$(".banner li").length,i,n,t;for($(".loader").stop().fadeOut(1e3),$(".banner li").eq(0).fadeIn(1e3),i=0;i<r;i++)$(".banner .btns").append('<span class="span'+i+' fl"><\/span>');$(".banner .btns").css("margin-left",-$(".btns").width()/2);$(".banner .btns span").eq(0).addClass("cur");n=1;$(".banner .btns span").mouseover(function(){n=$(this).index();u(n)});$(".banner").hover(function(){t&&clearInterval(t)},function(){clearInterval(t);t=setInterval(function(){u(n);n++;n==r&&(n=0)},5e3)});t=setInterval(function(){u(n);n++;n==r&&(n=0)},5e3)}(function(n){n.fn.extend({slimScroll:function(i){var r=n.extend({width:"auto",height:"250px",size:"6px",color:"#000",position:"right",distance:"1px",start:"top",opacity:.4,alwaysVisible:!1,disableFadeOut:!1,railVisible:!1,railColor:"#333",railOpacity:.2,railDraggable:!0,railClass:"slimScrollRail",barClass:"slimScrollBar",wrapperClass:"slimScrollDiv",allowPageScroll:!1,wheelStep:20,touchScrollStep:200,borderRadius:"4px",railBorderRadius:"4px"},i);return this.each(function(){function g(t){var t,i,f;l&&(t=t||window.event,i=0,t.wheelDelta&&(i=-t.wheelDelta/120),t.detail&&(i=t.detail/3),f=t.target||t.srcTarget||t.srcElement,n(f).closest("."+r.wrapperClass).is(u.parent())&&h(i,!0),t.preventDefault&&!o&&t.preventDefault(),o||(t.returnValue=!1))}function h(n,t,i){var s,l,h;o=!1;s=n;l=u.outerHeight()-f.outerHeight();t&&(s=parseInt(f.css("top"))+n*parseInt(r.wheelStep)/100*f.outerHeight(),s=Math.min(Math.max(s,0),l),s=n>0?Math.ceil(s):Math.floor(s),f.css({top:s+"px"}));e=parseInt(f.css("top"))/(u.outerHeight()-f.outerHeight());s=e*(u[0].scrollHeight-u.outerHeight());i&&(s=n,h=s/u[0].scrollHeight*u.outerHeight(),h=Math.min(Math.max(h,0),l),f.css({top:h+"px"}));u.scrollTop(s);u.trigger("slimscrolling",~~s);tt();c()}function ot(n){window.addEventListener?(n.addEventListener("DOMMouseScroll",g,!1),n.addEventListener("mousewheel",g,!1)):document.attachEvent("onmousewheel",g)}function nt(){a=Math.max(u.outerHeight()/u[0].scrollHeight*u.outerHeight(),et);f.css({height:a+"px"});var n=a==u.outerHeight()?"none":"block";f.css({display:n})}function tt(){if(nt(),clearTimeout(it),e==~~e){if(o=r.allowPageScroll,rt!=e){var n=~~e==0?"top":"bottom";u.trigger("slimscroll",n)}}else o=!1;if(rt=e,a>=u.outerHeight()){o=!0;return}f.stop(!0,!0).fadeIn("fast");r.railVisible&&s.stop(!0,!0).fadeIn("fast")}function c(){r.alwaysVisible||(it=setTimeout(function(){r.disableFadeOut&&l||y||p||(f.fadeOut("slow"),s.fadeOut("slow"))},1e3))}var l,y,p,it,w,a,e,rt,b="<div><\/div>",et=30,o=!1,u=n(this),v,k,d,ut;if(u.parent().hasClass(r.wrapperClass)){if(v=u.scrollTop(),f=u.siblings("."+r.barClass),s=u.siblings("."+r.railClass),nt(),n.isPlainObject(i)){if("height"in i&&i.height=="auto"?(u.parent().css("height","auto"),u.css("height","auto"),k=u.parent().parent().height(),u.parent().css("height",k),u.css("height",k)):"height"in i&&(d=i.height,u.parent().css("height",d),u.css("height",d)),"scrollTo"in i)v=parseInt(r.scrollTo);else if("scrollBy"in i)v+=parseInt(r.scrollBy);else if("destroy"in i){f.remove();s.remove();u.unwrap();return}h(v,!1,!0)}return}if(!n.isPlainObject(i)||!("destroy"in i)){r.height=r.height=="auto"?u.parent().height():r.height;ut=n(b).addClass(r.wrapperClass).css({position:"relative",overflow:"hidden",width:r.width,height:r.height});u.css({overflow:"hidden",width:r.width,height:r.height});var s=n(b).addClass(r.railClass).css({width:r.size,height:"100%",position:"absolute",top:0,display:r.alwaysVisible&&r.railVisible?"block":"none","border-radius":r.railBorderRadius,background:r.railColor,opacity:r.railOpacity,zIndex:90}),f=n(b).addClass(r.barClass).css({background:r.color,width:r.size,position:"absolute",top:0,opacity:r.opacity,display:r.alwaysVisible?"block":"none","border-radius":r.borderRadius,BorderRadius:r.borderRadius,MozBorderRadius:r.borderRadius,WebkitBorderRadius:r.borderRadius,zIndex:99}),ft=r.position=="right"?{right:r.distance}:{left:r.distance};s.css(ft);f.css(ft);u.wrap(ut);u.parent().append(f);u.parent().append(s);r.railDraggable&&f.bind("mousedown",function(i){var r=n(document);return p=!0,t=parseFloat(f.css("top")),pageY=i.pageY,r.bind("mousemove.slimscroll",function(n){currTop=t+n.pageY-pageY;f.css("top",currTop);h(0,f.position().top,!1)}),r.bind("mouseup.slimscroll",function(){p=!1;c();r.unbind(".slimscroll")}),!1}).bind("selectstart.slimscroll",function(n){return n.stopPropagation(),n.preventDefault(),!1});s.hover(function(){tt()},function(){c()});f.hover(function(){y=!0},function(){y=!1});u.hover(function(){l=!0;tt();c()},function(){l=!1;c()});u.bind("touchstart",function(n){n.originalEvent.touches.length&&(w=n.originalEvent.touches[0].pageY)});u.bind("touchmove",function(n){if(o||n.originalEvent.preventDefault(),n.originalEvent.touches.length){var t=(w-n.originalEvent.touches[0].pageY)/r.touchScrollStep;h(t,!0);w=n.originalEvent.touches[0].pageY}});nt();r.start==="bottom"?(f.css({top:u.outerHeight()-f.outerHeight()}),h(0,!0)):r.start!=="top"&&(h(n(r.start).position().top,null,!0),r.alwaysVisible||f.hide());ot(this)}}),this}});n.fn.extend({slimscroll:n.fn.slimScroll})})(jQuery);$(function(){var n=$(".banner li").length;$(".banner li").each(function(){var i=$(this),r=i.attr("data-img"),t=new Image;if(t.src=r,t.complete||t.width){i.attr("style","background:url("+r+") no-repeat center");n--;n==0&&banner();return}$(t).load(function(){i.attr("style","background:url("+r+") no-repeat center");n--;n==0&&banner()})})})